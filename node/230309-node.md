# TODAY I LEARNED

## Learned

### JavaScript 생태계와 Node의 역사

- express.js : 2010년에 등장하여 Node.js 웹서버 프레임워크의 표준이 되었습니다.
- 바벨 & 웹팩 : 발전하는 javascript의 속도를 따라가지 못하는 브라우저 하위 호환성을 살리기 위해서 2014년에 바벨과 웹팩이 등장했습니다.
- 자바스크립트는 처음에는 웹앱을 만드는 데서 시작했지만, 지금은 react native 등을 통해 ios와 안드로이드 앱도 만들고 서버도 만듭니다. 이렇게 자바스크립트 하나의 언어로 풀스택 구현이 가능합니다.
- 코드의 핵심을 모든 곳에서 공유하기 때문에 코드의 재사용성을 극한으로 끌어올릴 수 있게 됩니다. 따라서 서버사이드 렌더링과 같은 고급 기술을 자유롭게 쓸 수 있게 됩니다.

### Node의 특징, 강점, 약점

- Node.js의 저자 라이언 달이 Node.js에 대한 최초의 프리젠테이션 자리에서 한 말 : IO needs to be done differently IO는 (지금까지와는) 다르게 되어야 한다.
- 이는 Node.js에서 무엇을 위해서 만들어졌는지를 알 수 있는 아주 핵심적인 문장입니다. IO가 Node.js에서 그만큼 중요한 부분을 차지하고 있다는 것입니다.
- 라이언이 주목한 JavaScript의 특징은 이벤트 루프의 비동기적인 성질이었습니다. JavaScript는 이벤트 루프를 활용해서 동작하도록 만들어졌는데 이 점이 IO바운드 프로그램의 가장 큰 문제인 요청하고 기다리기를 해결하는 열쇠로 본 것입니다.
- Node.js가 네트워크, 통신, 파일 읽어오기 등 과 같은 작업을 처리하는 동안 개발자는 비즈니스 로직등 더 중요한 부분에 집중할 수 있습니다.
- 비동기에 있어서는 무조건 싱글 스레드이기 때문에 비동기로 인한 동시성 문제도 걱정할 필요가 거의 없습니다.
- 얼마나 많은 요청이 들어오든 메인 스레드는 맡긴일만 하기 때문에 확장성도 매우 높습니다.
- 그리고 V8 자체도 매우 빠른 엔진입니다. 그래서 싱글 스레드에서의 블로킹만 안 일으킨다면 아주 빠른 퍼포먼스를 기대할 수 있게 됩니다.

#### 한계점 및 극복방법

JavaScript로만 짰기 때문에 JavaScript만의 한계가 있습니다. 저수준 처리는 당연히 느릴수 밖에 없습니다. 예를 들어 이미지 파일 전체 버퍼를 돌면서 어떤 특정한 픽셀을 찾아낸다던지, 오디오 파일을 돌면서 2개의 오디오 파일을 합친다던지 하는 것들을 Node.js만 가지고 처리를 하려고 하면 굉장히 무겁고 필요이상으로 오래 걸리는 일이 됩니다.

> Node.js에서 저수준 처리는 Node가 빠르게 처리하기 매우 어려운 부분입니다.
> 그래서 Node.js는 C와 WebAssembly 모듈을 바인딩해 사용하는 방법을 제공하고 있습니다.
> C는 Node-gyp를 통해, WebAssembly는 Node 12 버전부터 제공되고 있습니다.

WebAssembly란? binary instruction format 일종의 브라우저를 위한 어셈블리라고 생각하면 됩니다.
JavaScript의 경우 스크립트 언어이기 때문에 결국 런타임에서는 예측할 수 없는 부분들이 생길 수 밖에 없기 때문에 완벽히 최적화를 할 수 없습니다. 하지만 WebAssembly를 사용하게 되면 최적화 효율을 많이 끌어올릴 수 있습니다. 그리고 이것을 Node.js에서도 제공합니다.
즉, Node.js의 대표적인 약점은 저수준 처리라고 볼 수 있습니다. 그러한 부분을 C와 WebAssembly를 통해서 해결을 할 수 있습니다.

#### NPM

추가로 Node.js의 특징으로는 방대한 오픈소스 생태계입니다. npm이 바로 Node.js를 위한 패키지 매니저입니다.
npm에 올라오는 패키지 수만 봐도 160만개 이상입니다.

