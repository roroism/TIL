# TODAY I LEARNED

## Learned

### 트랜잭션(Transaction)이란?

- 트랜잭션(transaction)은, DBMS에서 하나의 작업 단위를 의미한다.
- 하나의 계좌에 대해 서로 다른 두 곳에서 동시에 돈을 인출한다면 어떻게 될까?
두 트랜잭션을 모두 거부하거나, 더 빠르게 호출된 요청을 처리하는 것이 합당할 것이다.

#### 트랜잭션의 네 가지 특성

1. 원자성(Atomicity) : 트랜잭션에 포함된 연산들을 모두 처리하거나, 모두 처리하지 않아야 한다.
2. 일관성(Consistency) : 트랜잭션이 수행된 이후에도 DB 내의 데이터는 일관된 상태를 유지 한다.
3. 격리성(Isolation) : 하나의 트랜잭션이 끝날 때까지 다른 트랜잭션이 간섭할 수 없다. (독립적)
4. 지속성(Durability) : 트랜잭션이 성공적으로 완료된 이후에 데이터들이 영구적으로 보존 된다.

- 이를 ACID 특성이라고 부르기도 한다.

### 트랜잭션의 Commit과 Rollback

- Commit : 하나의 트랜잭션이 성공적으로 수행되었음을 명시하기 위해 사용한다.
- Rollback : 트랜잭션이 비정상적으로 종료되어, DB의 일관성을 유지하기 어려울 때 사용한다.
	- 원자성을 유지하기 위하여 해당 트랜잭션에 포함된 모든 연산을 취소한다.

### 트랜잭션 사용의 유의사항

- 필요한 작은 단위의 코드 위주로 트랜잭션을 사용하는 것을 권장한다.
	- 기본적으로 DBMS 입장에서 사용자 연결(connection)의 수가 많으면 서버 부담이 커질 수 있다.
	- 트랜잭션을 처리하기 위한 커넥션 유지 기간이 길어지면, 전반적으로 각 프로그램의 대기 시간이 과도하게 길어질 수 있다.

